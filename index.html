<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Matrix AI Mini App</title>
<style>
  body { font-family: Arial, sans-serif; padding: 10px; background: #111; color: #eee; }
  button { margin: 5px 0; padding: 10px; width: 100%; font-size: 18px; background: #222; color: #eee; border: none; border-radius: 6px; cursor: pointer; }
  button:hover { background: #444; }
  #output { margin-top: 15px; white-space: pre-wrap; }
  .hidden { display: none; }
  #backBtn { margin-top: 10px; background: #555; }
  input { width: 100%; padding: 8px; font-size: 16px; border-radius: 6px; border: 1px solid #444; margin-bottom: 10px; background: #222; color: #eee; }
  label { margin-bottom: 4px; display: block; }
</style>
</head>
<body>

<div id="mainMenu">
  <h2>Matrix AI - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</h2>
  <button id="btnPersonality">üß¨ –ê–Ω–∞–ª–∏–∑ –ª–∏—á–Ω–æ—Å—Ç–∏</button>
  <button id="btnCompatibility">‚ù§Ô∏è –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</button>
  <button id="btnForecasts">üìÖ –ü—Ä–æ–≥–Ω–æ–∑—ã</button>
  <button id="btnAstrology">üåå –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—è</button>
  <button id="btnPalmistry">‚úã –•–∏—Ä–æ–º–∞–Ω—Ç–∏—è</button>
  <button id="btnCardOfDay">üß© –ö–∞—Ä—Ç–∞ –¥–Ω—è</button>
  <button id="btnStarsShop">üåü Stars / –ú–∞–≥–∞–∑–∏–Ω</button>
  <button id="btnHistory">üìñ –ò—Å—Ç–æ—Ä–∏—è —Ä–∞—Å–∫–ª–∞–¥–æ–≤</button>
</div>

<div id="personalitySection" class="hidden">
  <h2>üß¨ –ê–Ω–∞–ª–∏–∑ –ª–∏—á–Ω–æ—Å—Ç–∏</h2>
  <label for="personBirthdate">–í–≤–µ–¥–∏—Ç–µ –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è (–î–î.–ú–ú.–ì–ì–ì–ì):</label>
  <input type="text" id="personBirthdate" placeholder="01.01.2000" />
  <button id="startPersonality">–ù–∞—á–∞—Ç—å –∞–Ω–∞–ª–∏–∑</button>
  <button id="backFromPersonality" class="backBtn">–ù–∞–∑–∞–¥</button>
  <div id="personalityOutput"></div>
</div>

<div id="compatibilitySection" class="hidden">
  <h2>‚ù§Ô∏è –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</h2>
  <label for="firstBirthdate">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è 1-–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ (–î–î.–ú–ú.–ì–ì–ì–ì):</label>
  <input type="text" id="firstBirthdate" placeholder="01.01.2000" />
  <label for="secondBirthdate">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è 2-–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ (–î–î.–ú–ú.–ì–ì–ì–ì):</label>
  <input type="text" id="secondBirthdate" placeholder="01.01.2000" />
  <button id="startCompatibility">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</button>
  <button id="backFromCompatibility" class="backBtn">–ù–∞–∑–∞–¥</button>
  <div id="compatibilityOutput"></div>
</div>

<!-- –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–µ–∫—Ü–∏–∏ –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏... -->

<script>
  // –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å/—Å–∫—Ä—ã–≤–∞—Ç—å —Å–µ–∫—Ü–∏–∏
  function showSection(sectionId) {
    document.querySelectorAll('div[id$="Section"]').forEach(div => div.classList.add('hidden'));
    document.getElementById('mainMenu').classList.add('hidden');
    document.getElementById(sectionId).classList.remove('hidden');
  }

  function showMainMenu() {
    document.querySelectorAll('div[id$="Section"]').forEach(div => div.classList.add('hidden'));
    document.getElementById('mainMenu').classList.remove('hidden');
  }

  // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞—Ç—ã (–î–î.–ú–ú.–ì–ì–ì–ì)
  function validateDate(dateStr) {
    const re = /^(\d{2})\.(\d{2})\.(\d{4})$/;
    if (!re.test(dateStr)) return false;
    const parts = dateStr.split('.');
    const day = parseInt(parts[0], 10);
    const month = parseInt(parts[1], 10);
    const year = parseInt(parts[2], 10);
    if (year < 1900 || year > 2100) return false;
    if (month < 1 || month > 12) return false;
    if (day < 1) return false;
    const monthLengths = [31, (year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0)) ? 29 : 28, 31,30,31,30,31,31,30,31,30,31];
    if (day > monthLengths[month - 1]) return false;
    return true;
  }

  // –≠–ª–µ–º–µ–Ω—Ç—ã –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
  document.getElementById('btnPersonality').onclick = () => showSection('personalitySection');
  document.getElementById('btnCompatibility').onclick = () => showSection('compatibilitySection');

  // –ö–Ω–æ–ø–∫–∏ –Ω–∞–∑–∞–¥
  document.getElementById('backFromPersonality').onclick = showMainMenu;
  document.getElementById('backFromCompatibility').onclick = showMainMenu;

  // –ê–Ω–∞–ª–∏–∑ –ª–∏—á–Ω–æ—Å—Ç–∏ (—É–ø—Ä–æ—â—ë–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä)
  document.getElementById('startPersonality').onclick = () => {
    const date = document.getElementById('personBirthdate').value.trim();
    const output = document.getElementById('personalityOutput');
    output.textContent = '';
    if (!validateDate(date)) {
      output.textContent = '–û—à–∏–±–∫–∞: –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç—ã. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –î–î.–ú–ú.–ì–ì–ì–ì';
      return;
    }
    // –ó–∞–≥–ª—É—à–∫–∞ –∞–Ω–∞–ª–∏–∑–∞
    output.textContent = `–ê–Ω–∞–ª–∏–∑ –ª–∏—á–Ω–æ—Å—Ç–∏ –¥–ª—è –¥–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è ${date}:\n\n- –ß–∏—Å–ª–æ –¥—É—à–∏: 7\n- –ú–∞—Ç—Ä–∏—Ü–∞ —Å—É–¥—å–±—ã: 4-6-9\n- –ê—Ä—Ö–µ—Ç–∏–ø: –ú—É–¥—Ä–µ—Ü\n- –ö–∞—Ä–º–∏—á–µ—Å–∫–∏–π —É—Ä–æ–∫: –¢–µ—Ä–ø–µ–Ω–∏–µ`;
  };

  // –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (—É–ø—Ä–æ—â—ë–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä)
  document.getElementById('startCompatibility').onclick = () => {
    const d1 = document.getElementById('firstBirthdate').value.trim();
    const d2 = document.getElementById('secondBirthdate').value.trim();
    const output = document.getElementById('compatibilityOutput');
    output.textContent = '';
    if (!validateDate(d1) || !validateDate(d2)) {
      output.textContent = '–û—à–∏–±–∫–∞: –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç—ã —É –æ–¥–Ω–æ–≥–æ –∏–∑ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –î–î.–ú–ú.–ì–ì–ì–ì';
      return;
    }
    // –ü—Ä–æ—Å—Ç–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è
    output.textContent = `–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –¥–ª—è –¥–∞—Ç:\n1-–π —á–µ–ª–æ–≤–µ–∫: ${d1}\n2-–π —á–µ–ª–æ–≤–µ–∫: ${d2}\n\n- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –¥—É—à: –í—ã—Å–æ–∫–∞—è\n- –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã: –í–∑–∞–∏–º–æ–ø–æ–Ω–∏–º–∞–Ω–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞\n- –ó–æ–Ω—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞: –†–∏–≥–∏–¥–Ω–æ—Å—Ç—å`;
  };
</script>

</body>
</html>
